let r=null;async function n(){let e=$("#objectId").val();if(e)try{let{data:t}=await ajax({url:`${API_BASEURL}/money-transfers/fetch/${e}`,type:"GET"});r=t}catch({error:t}){await Swal.fire(t.responseJSON.message,"","error"),location="/money-transfers"}}function a(){$("#recipientId").val("").change(),$("#amount").val("0"),$(".is-invalid").removeClass("is-invalid")}async function o(){swalLoading();try{let{data:e}=await ajax({url:`${API_BASEURL}/money-transfers/store`,type:"POST",data:{recipient_id:$("#recipientId").val(),amount:$("#amount").val()}});Toast.fire(e.message,"","success"),a()}catch({error:e}){console.log(e),e.responseJSON.errors&&Swal.close(),showErrors(e.responseJSON,{recipient_id:"#recipientId",amount:"#amount"})}}window.render=async function(){await n(),setTitle("Nouveau transfert"),a(),$("#form").submit(function(e){e.preventDefault(),o()}),populatePartners("#recipientId",!0)};
