window.dataTableCardIds=null;window.clearCardAddingTypes=function(){$("#type").val("one").change().parent().show(),$("#cardId").val(""),$("#cardIdMany").val(""),dataTableCardIds.clear().draw(),$("#cardIdFrom").val(""),$("#cardIdTo").val("")};window.fillCardAddingTypes=function(a){return a.type=$("#type").val(),a.type==="one"?a.card_id=$("#cardId").val():a.type==="many"?a.card_ids=dataTableCardIds.rows().data().toArray().map(d=>d.card_id):a.type==="range"&&(a.card_id_from=$("#cardIdFrom").val(),a.card_id_to=$("#cardIdTo").val()),a};window.fillCardAddingErrorFields=function(a){return a.type="#type",a.card_id="#cardId",a.card_ids="#cardIdMany",a.card_id_from="#cardIdFrom",a.card_id_to="#cardIdTo",a};window.initDataTableCardIds=function(){dataTableCardIds=$("#tableCardIds").on("click",".remove",function(a){dataTableCardIds.row($(this).closest("tr")).remove().draw(!1)}).DataTable({processing:!0,columns:[{data:"card_id"},{orderable:!1,render:(a,d,r)=>`
              <button type="button" class="btn btn-sm btn-danger m-1 remove"><i class="fas fa-times"></i> Retirer</button>
            `}],order:[0,"desc"],pageLength:25,autoWidth:!1})};window.initCardAddingTypes=function(){initDataTableCardIds(),$("#addCardId").click(function(a){let d=$("#cardIdMany").val();if(d.length!==10){Swal.fire("L'id doit être composé de 10 chiffres","","error");return}if(dataTableCardIds.rows().data().filter(e=>e.card_id===d).length>0){Swal.fire("Cet id est déjà dans la liste","","error");return}dataTableCardIds.row.add({card_id:d}).draw(!1)}),$("#type").change(function(a){let d=["one","many","range"];for(const r of d)r===$(this).val()?$(`#${r}Block`).show():$(`#${r}Block`).hide()}),$("#cardId, #cardIdMany, #cardIdFrom, #cardIdTo").on("input",function(){let a=$(this).val().replace(/\D/g,"").substring(0,10);$(this).val(a)})};
