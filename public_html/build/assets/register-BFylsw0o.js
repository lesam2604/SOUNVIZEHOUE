async function r(){let a=new FormData;a.append("first_name",$("#firstName").val()),a.append("last_name",$("#lastName").val()),a.append("phone_number",$("#phoneNumber").val()),a.append("email",$("#email").val()),a.append("email_confirmation",$("#confirmEmail").val()),a.append("idcard_number",$("#idCardNumber").val()),a.append("address",$("#address").val()),a.append("picture",$("#picture")[0].files[0]??""),a.append("idcard_picture",$("#idCardPicture")[0].files[0]??""),a.append("company_name",$("#companyName").val()),a.append("tin",$("#tin").val()),$("#form button").html('Inscription en cours <i class="fas fa-spinner fa-pulse"></i>').prop("disabled",!0);try{let{data:e}=await ajax({url:`${API_BASEURL}/partners/register`,type:"POST",contentType:!1,processData:!1,data:a});await Swal.fire(e.message,"","success"),location.href="/login"}catch({error:e}){$("#form button").html("S'inscrire").prop("disabled",!1),console.log(e),showErrors(e.responseJSON,{first_name:"#firstName",last_name:"#lastName",phone_number:"#phoneNumber",email:"#email",email_confirmation:"#confirmEmail",idcard_number:"#idCardNumber",address:"#address",picture:"#picture",idcard_picture:"#idCardPicture",company_name:"#companyName",tin:"#tin"})}}window.render=function(){$("#form").submit(function(a){a.preventDefault(),r()})};
