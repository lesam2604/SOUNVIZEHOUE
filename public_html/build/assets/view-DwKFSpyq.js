let t=null;async function r(){let e=$("#objectId").val();if(e)try{let{data:a}=await ajax({url:`${API_BASEURL}/card-types/fetch/${e}`,type:"GET"});t=a}catch({error:a}){await Swal.fire(a.responseJSON.message,"","error"),location="/card-types"}}function c(){$("#name").html(t.name),$("#createdAt").html(formatDateTime(t.created_at))}async function i(){try{if(!(await Swal.fire({title:`Voulez-vous vraiment supprimer le type de carte ${t.name}?`,text:"Cette opération est irreversible",icon:"question",showCancelButton:!0,confirmButtonText:"Oui",cancelButtonText:"Non"})).isConfirmed)throw{};swalLoading();let{data:a}=await ajax({url:`${API_BASEURL}/card-types/delete/${t.id}`,type:"POST"});Toast.fire(a.message,"","success"),location="/card-types"}catch({error:e}){Swal.fire(e.responseJSON.message,"","error")}}window.render=async function(){await r(),setTitle(`Détails du type de carte ${t.name}`),c(),$("#edit").click(function(e){location=`/card-types/${t.id}/edit`}),$("#delete").click(function(e){i()})};
