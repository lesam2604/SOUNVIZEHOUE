let e=null;async function a(){let t=$("#objectId").val();if(t)try{let{data:i}=await ajax({url:`${API_BASEURL}/inv-supplies/fetch/${t}`,type:"GET"});e=i}catch({error:i}){await Swal.fire(i.responseJSON.message,"","error"),location="/inv-supplies"}}function n(){$("#code").html(e.code),$("#product").html(e.product.name),$("#category").html(e.product.category.name),$("#quantity").html(e.quantity)}async function o(){try{if(!(await Swal.fire({title:`Voulez-vous vraiment supprimer l'approvisionnement ${e.code}?`,text:"Cette op√©ration est irreversible",icon:"question",showCancelButton:!0,confirmButtonText:"Oui",cancelButtonText:"Non"})).isConfirmed)throw{};swalLoading();let{data:i}=await ajax({url:`${API_BASEURL}/inv-supplies/delete/${e.id}`,type:"POST"});Toast.fire(i.message,"","success"),location="/inv-supplies"}catch({error:t}){Swal.fire(t.responseJSON.message,"","error")}}window.render=async function(){await a(),setTitle(`Details de l'approvisionnement ${e.code}`),n(),$("#edit").click(function(t){location=`/inv-supplies/${e.id}/edit`}),$("#delete").click(function(t){o()})};
